+++
categories = ["Web", "Computer Graphics"]
date = "2017-07-28T21:00:38+03:00"
draft = false
excerpt = "–ü—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ –ø–µ—Ä–≤–æ–π —Å—Ç–∞—Ç—å, –≥–¥–µ –æ—Ç –ø—Ä–æ—Å—Ç–æ–π –≥–µ–æ–º–µ—Ç—Ä–∏–∏ –ø–µ—Ä–µ–π–¥—ë–º –∫ —Å–æ–∑–¥–∞–Ω–∏—é —Ç—É–Ω–Ω–µ–ª—è –∏–∑ —á–∞—Å—Ç–∏—Ü"
image = "tunnel-animation-2/cover.jpg"
tags = ["HTML","JavaScript", "WebGL", "3D", "ThreeJS", "spline", "light", "point", "random color"]
thumbnail = "tunnel-animation-2/thumbnail.jpg"
title = "–≠—Ñ—Ñ–µ–∫—Ç –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏—è –≤ —Ç—É–Ω–Ω–µ–ª–µ - –ß–∞—Å—Ç—å 2"

[translate]
  avatar = "tunnel-animation-2/avatar.jpg"
  name = "Louis Hoebregts"
  url = "https://codepen.io/Mamboleoo/post/tunnel-animation-2"
+++

<div class="alert">
–≠—Ç–æ –≤—Ç–æ—Ä–∞—è —á–∞—Å—Ç—å –≥–∞–π–¥–∞ –ø–æ —Å–æ–∑–¥–∞–Ω–∏—é —ç—Ñ—Ñ–µ–∫—Ç–∞ –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏—è –≤ —Ç—É–Ω–Ω–µ–ª–µ.<br>
–ï—Å–ª–∏ –≤—ã –Ω–µ —á–∏—Ç–∞–ª–∏ –ø–µ—Ä–≤—É—é —Å—Ç–∞—Ç—å—é, —Ç–æ –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–µ—Ä–µ–π–¥–∏—Ç–µ –æ–ø —Å—Å—ã–ª–∫–µ :<br>
<a rel="noreferrer" href="http://grishy.ru/post/tunnel-animation-1/">–ê–Ω–∏–º–∞—Ü–∏—è —Ç—É–Ω–Ω–µ–ª—è - –ß–∞—Å—Ç—å 1</a>
</div>

–° –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∏–µ–º! üññ –°–ø–∞—Å–∏–±–æ —á—Ç–æ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç–µ —á–∏—Ç–∞—Ç—å, —è –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞—é —á—Ç–æ –ø–µ—Ä–≤–∞—è —á–∞—Å—Ç—å –≤–∞–º –ø–æ–Ω—Ä–∞–≤–∏–ª–∞—Å—å –∏ –≤—ã —Ö–æ—Ç–µ–ª–∏ –±—ã —É–∑–Ω–∞—Ç—å –±–æ–ª—å—à–µ! –ö–∞–∫ —è –∏ —Å–∫–∞–∑–∞–ª –≤ –∫–æ–Ω—Ü–µ –ø—Ä–æ—à–ª–æ–π —á–∞—Å—Ç–∏, –≤—ã —Å–µ–π—á–∞—Å —É–≤–∏–¥–∏—Ç–µ –∫–∞–∫ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Ç—É–Ω–Ω–µ–ª—å —Å –ø–æ–º–æ—â—å—é —á–∞—Å—Ç–∏—Ü, –≤–º–µ—Å—Ç–æ –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–∏ `TubeGeometry()`.

<ul class="examples">
  <li>
    <a rel="noreferrer" href="https://codepen.io/Mamboleoo/full/NdGPvJ/">
      <img src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/127738/tunnel_mario.jpg">
    </a>
    <span class="legend">–≠—Ç–æ –æ–¥–∏–Ω –∏–∑ –≤–∏–¥–æ–≤ —ç—Ñ—Ñ–µ–∫—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π –≤—ã —Å–º–æ–∂–µ—Ç–µ —Å–æ–∑–¥–∞—Ç—å –≤ –∫–æ–Ω—Ü–µ</span>  
  </li>
</ul>

{{% toc %}}
<!-- TOC -->

- [–í—ã—á–∏—Å–ª–µ–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–∏ —á–∞—Å—Ç–∏—Ü](#–≤—ã—á–∏—Å–ª–µ–Ω–∏–µ-–ø–æ–∑–∏—Ü–∏–∏-—á–∞—Å—Ç–∏—Ü)
- [–°–æ–∑–¥–∞–Ω–∏–µ —Ç—Ä—É–±—ã](#—Å–æ–∑–¥–∞–Ω–∏–µ-—Ç—Ä—É–±—ã)
- [–ó–∞—Å—Ç–∞–≤–ª—è–µ–º –≤—Å–µ –¥–≤–∏–≥–∞—Ç—å—Å—è](#–∑–∞—Å—Ç–∞–≤–ª—è–µ–º-–≤—Å–µ-–¥–≤–∏–≥–∞—Ç—å—Å—è)
- [–ù–µ–º–Ω–æ–≥–æ –±–µ–∑—É–º—Å—Ç–≤–∞](#–Ω–µ–º–Ω–æ–≥–æ-–±–µ–∑—É–º—Å—Ç–≤–∞)
    - [–Ø—Ä–∫–∏–µ —Ç—É–Ω–Ω–µ–ª–∏](#—è—Ä–∫–∏–µ-—Ç—É–Ω–Ω–µ–ª–∏)
    - [–ö–≤–∞–¥—Ä–∞—Ç–Ω–∞—è –ø–µ—â–µ—Ä–∞](#–∫–≤–∞–¥—Ä–∞—Ç–Ω–∞—è-–ø–µ—â–µ—Ä–∞)
    - [–í–æ—Å—å–º–∏–≥—Ä–∞–Ω–Ω—ã–µ —Ç—É–Ω–Ω–µ–ª–∏](#–≤–æ—Å—å–º–∏–≥—Ä–∞–Ω–Ω—ã–µ-—Ç—É–Ω–Ω–µ–ª–∏)

<!-- /TOC -->
{{% /toc %}}

## –í—ã—á–∏—Å–ª–µ–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–∏ —á–∞—Å—Ç–∏—Ü
–ß—Ç–æ–±—ã —Å–¥–µ–ª–∞—Ç—å, —á—Ç–æ –º—ã –∑–∞–¥—É–º–∞–ª–∏, –Ω–∞–¥–æ –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∫—Ä—É–≥–∏ —á–∞—Å—Ç–∏—Ü –Ω–∞ –≤—Å–µ–º –ø—Ä–æ—Ç—è–∂–µ–Ω–∏–∏ –ø—É—Ç–∏. Three.js –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–∞–∫–æ–π –∂–µ —Å–ø–æ—Å–æ–± –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –≥–µ–æ–º–µ—Ç—Ä–∏–∏ —Ç—Ä—É–±—ã, —Å –æ–¥–Ω–∏–º –æ—Ç–ª–∏—á–∏–µ–º, —á—Ç–æ –æ–Ω –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –≥—Ä–∞–Ω–∏ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–∏ —Ç—Ä—É–±—ã.  
–î–ª—è –Ω–∞—á–∞–ª–∞ –Ω–∞–º –Ω–∞–¥–æ —É—Ç–æ—á–Ω–∏—Ç—å –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –¥–µ—Ç–∞–ª–∏:  

* –†–∞–¥–∏—É—Å  
* –ö–æ–ª-–≤–æ —Å–µ–≥–º–µ–Ω—Ç–æ–≤  
* –ö–æ–ª-–≤–æ —á–∞—Å—Ç–∏—Ü –≤ –æ–¥–Ω–æ–º —Å–µ–≥–º–µ–Ω—Ç–µ  
  
```javascript
// –ö–æ–ª-–≤–æ –∫—Ä—É–≥–æ–≤, –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö –±—É–¥–µ—Ç —Å–æ—Å—Ç–æ—è—Ç—å –≤–µ—Å—å –º–∞—Ä—à—Ä—É—Ç
var segments = 500;
// –ö–æ–ª-–≤–æ —á–∞—Å—Ç–µ–π, –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥—É—Ç —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –∫–∞–∂–¥—ã–π –∫—Ä—É–≥
var circlesDetail = 10;
// –†–∞–¥–∏—É—Å —Ç—Ä—É–±—ã
var radius = 5;
```

–°–µ–π—á–∞—Å –º—ã –∑–Ω–∞–µ–º –∫–æ–ª-–≤–æ —á–∞—Å—Ç–∏—Ü, –∫–æ—Ç–æ—Ä—ã –Ω–∞–º –Ω–∞–¥–æ –¥–ª—è –≤—Å–µ–≥–æ —Ç—É–Ω–Ω–µ–ª—è <span class="small">(—Å–ø–æ–π–ª–µ—Ä: segments * circlesDetail)</span>, —Ç–µ–ø–µ—Ä—å –Ω–∞–º –Ω–∞–¥–æ –≤—ã—á–∏—Å–ª–∏—Ç—å `Frenet frames`.  
–ï—Å–ª–∏ —á–µ—Å—Ç–Ω–æ, —è –Ω–µ —ç–∫—Å–ø–µ—Ä—Ç –≤ —ç—Ç–æ–π –æ–±–ª–∞—Å—Ç–∏ <span class="small">(—Å–ª–æ–≤–∞ –∞–≤—Ç–æ—Ä–∞ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–π —Å—Ç–∞—Ç—å–∏ üòâ )</span>, –Ω–æ –Ω–∞—Å–∫–æ–ª—å–∫–æ —è –ø–æ–Ω—è–ª, frenet frames —ç—Ç–æ –∑–Ω–∞—á–µ–Ω–∏—è –≤—ã—á–∏—Å–ª–µ–Ω–Ω—ã–µ –¥–ª—è –≤—Å–µ—Ö —Å–µ–≥–º–µ–Ω—Ç–æ–≤ —Ç—Ä—É–±—ã. –ö–∞–∂–¥—ã–π –∫–∞–¥—Ä —Å–¥–µ–ª–∞–Ω –ø—Ä–∏ –ø–æ–º–æ—â–∏ –≤–µ–∫—Ç–æ—Ä–æ–≤: –∫–∞—Å–∞—Ç–µ–ª—å–Ω–æ–π, –Ω–æ—Ä–º–∞–ª–∏ –∏ –±–∏–Ω–æ—Ä–º–∞–ª–∏ (–ø–µ—Ä–ø–µ–Ω–¥–∏–∫—É–ª—è—Ä–Ω–∞ –¥–≤—É–º –ø—Ä–µ–¥—ã–¥—É—â–∏–º). –ì—Ä—É–±–æ –≥–æ–≤–æ—Ä—è, —ç—Ç–∏ –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ–≤–æ—Ä–æ—Ç–∞ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–µ–≥–º–µ–Ω—Ç–∞ –∏  –∫—É–¥–∞ –æ–Ω —Å–º–æ—Ç—Ä–∏—Ç.  
–ï—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ —É–∑–Ω–∞—Ç—å –∫–∞–∫ –Ω–∞—Ö–æ–¥—è—Ç—Å—è —ç—Ç–∏ –∑–Ω–∞—á–µ–Ω–∏—è, —Ç–æ —Å–æ–≤–µ—Ç—É—é –ø—Ä–æ—á–∏—Ç–∞—Ç—å —ç—Ç—É [—Å—Ç–∞—Ç—å—é –Ω–∞  Wikipedia](https://ru.wikipedia.org/wiki/%D0%A2%D1%80%D1%91%D1%85%D0%B3%D1%80%D0%B0%D0%BD%D0%BD%D0%B8%D0%BA_%D0%A4%D1%80%D0%B5%D0%BD%D0%B5).  
–ë–ª–∞–≥–æ–¥–∞—Ä—è Three.js –Ω–∞–º –Ω–µ –Ω–∞–¥–æ –ø–æ–Ω–∏–º–∞—Ç—å, –∫–∞–∫ —ç—Ç–æ –≤—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∏ –º—ã –º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–∞–¥—Ä–æ–≤ (frames) –∏–∑ –Ω–∞—à–µ–≥–æ –ø—É—Ç–∏.

```javascript
var frames = path.computeFrenetFrames(segments, true);
// –í—Ç–æ—Ä–æ–π –ø–∞—Ä–∞–º–µ—Ç—Ä –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞—à –ø—É—Ç—å –∑–∞–∫—Ä—ã—Ç –∏–ª–∏ –Ω–µ—Ç, –≤ –Ω–∞—à–µ–º —Å–ª—É—á–∞–µ —ç—Ç–æ true.
```

–í –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–º –∑–Ω–∞—á–µ–Ω–∏–µ —ç—Ç–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ –±—É–¥–µ—Ç —Ç—Ä–∏ –º–∞—Å—Å–∏–≤–∞ `Vector3()`.  
![](/image/tunnel-animation-2/frenetFrames.jpg)  
–°–µ–π—á–∞—Å —É –Ω–∞—Å –µ—Å—Ç—å –≤—Å–µ, —á—Ç–æ –Ω—É–∂–Ω–æ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–µ–≥–º–µ–Ω—Ç–∞ –∏ –º—ã –º–æ–∂–µ–º –Ω–∞—á–∞—Ç—å –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —á–∞—Å—Ç–∏—Ü—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–µ–≥–º–µ–Ω—Ç–∞. –ú—ã –±—É–¥–µ–º —Ö—Ä–∞–Ω–∏—Ç—å –∫–∞–∂–¥—É—é —á–∞—Å—Ç–∏—Ü—É –∫–∞–∫ `Vector3()` –≤ `Geometry()`, —á—Ç–æ–±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ–∑–∂–µ.
```js
// –°–æ–∑–¥–∞—Ç—å –ø—É—Å—Ç—É—é Geometry, –∫—É–¥–∞ –º—ã –±—É–¥–µ–º –∑–∞–ø–∏—Å—ã–≤–∞—Ç—å –≤—Å–µ —á–∞—Å—Ç–∏—Ü—ã
var geometry = new THREE.Geometry();
```
–°–µ–π—á–∞—Å —É –Ω–∞—Å –µ—Å—Ç—å –ø–æ–ª–æ–∂–µ–Ω–∏–µ –∫–∞–∂–¥–æ–π —á–∞—Å—Ç–∏—Ü—ã —Å–µ–≥–º–µ–Ω—Ç–∞. –≠—Ç–æ —Ç–æ, –ø–æ—á–µ–º—É —è –±—É–¥—É –∏—Ç–µ—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –ø–æ –≤—Å–µ–º —Å–µ–≥–º–µ–Ω—Ç–∞–º. –Ø –Ω–µ –±—É–¥—É –æ–ø–∏—Å—ã–≤–∞—Ç—å –∫–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç, –≤—Å–µ –º–æ–∂–Ω–æ –ø–æ–Ω—è—Ç—å –ø–æ –∫–æ–¥—É –∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è –∫ –Ω–µ–º—É –Ω–∏–∂–µ! ‚¨áÔ∏è
```js
// –¶–∏–∫–ª –ø–æ –≤—Å–µ–º —Å–µ–≥–º–µ–Ω—Ç–∞–º
for (var i = 0; i < segments; i++) {

    // –ü–æ–ª—É—á–µ–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è –Ω–æ—Ä–º–∞–ª–∏ —Å–µ–≥–º–µ–Ω—Ç–∞ –∏–∑ Frenet frames
    var normal = frames.normals[i];
    // –ü–æ–ª—É—á–µ–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è –±–∏–Ω–æ—Ä–º–∞–ª–∏ —Å–µ–≥–º–µ–Ω—Ç–∞ –∏–∑ Frenet frames
    var binormal = frames.binormals[i];

    // –í—ã—á–∏—Å–ª–µ–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–∞ —Å–µ–≥–º–µ–Ω—Ç–∞ (–æ—Ç 0 –¥–æ 1)
    var index = i / segments;

    // –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç —Ç–æ—á–∫–∏ –≤ —Ü–µ–Ω—Ç—Ä–µ —Å–µ–≥–º–µ–Ω—Ç–∞
    // –ú—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º —Ñ—É–Ω–∫–∏—é, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–∏–º–µ–Ω—è–ª–∞—Å—å –¥–ª—è –ø–µ—Ä–µ–¥–≤–∏–∂–µ–Ω–∏—è
    // –∫–∞–º–µ—Ä—ã –≤ –ø–µ—Ä–≤–æ–π —á–∞—Å—Ç–∏
    var p = path.getPointAt(index);

    // –¶–∏–∫–ª –¥–ª—è —á–∞—Å—Ç–∏—Ü, –Ω–∞—Ö–æ–¥—è—â–∏–º—Å—è –Ω–∞ –∫–∞–∂–¥–æ–º —Å–µ–≥–º–µ–Ω—Ç–µ
    for (var j = 0; j < circlesDetail; j++) {

        // –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–æ—á–∫–∏ –≤ —Ü–µ–Ω—Ç—Ä –∫—Ä—É–≥–∞
        var position = p.clone();

        // –ù–∞–º –Ω—É–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å –ø–æ–∑–∏—Ü–∏—é –∫–∞–∂–¥–æ–π —Ç–æ—á–∫–∏, –æ—Å–Ω–æ–≤—ã–≤–∞—è—Å—å
        // –Ω–∞ —É–≥–ª–µ –æ—Ç 0 –¥–æ Pi*2
        // –ï—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –ø–æ–ª—É—á–∏—Ç—å —Ç–æ–ª—å–∫–æ –ø–æ–ª–æ–≤–∏–Ω—É —Ç—Ä—É–±—ã (–∫–∞–∫ 
        // –Ω–∞ –≤–æ–¥–Ω–æ–π –≥–æ—Ä–∫–µ) —Ç–æ –Ω–∞–¥–æ –≤—ã—á–∏—Å–ª–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è –æ—Ç 0 –¥–æ Pi.
        var angle = (j / circlesDetail) * Math.PI * 2;

        // –í—ã—á–∏—Å–ª–µ–Ω–∏–µ —Å–∏–Ω—É—Å–∞ —É–≥–ª–∞
        var sin = Math.sin(angle);
        // –í—ã—á–∏—Å–ª–µ–Ω–∏–µ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ–≥–æ –∫–æ—Å–∏–Ω—É—Å–∞ —É–≥–ª–∞
        var cos = -Math.cos(angle);

        // –í—ã—á–∏—Å–ª–µ–Ω–∏–µ –Ω–æ—Ä–º–∞–ª–∏ (–¥–ª–∏–Ω–Ω–∞ —Ä–∞–≤–Ω–∞ –µ–¥–∏–Ω–∏—Ü–µ –ø—Ä–∏–º. –ø–µ—Ä–µ–≤.
        // –∫–∞–∂–¥–æ–π —Ç–æ—á–∫–∏, –æ—Å–Ω–æ–≤—ã–≤–∞—è—Å—å –Ω–∞ —É–≥–ª–µ –∏
        // –≤–µ–∫—Ç–æ—Ä–æ–≤ –Ω–æ—Ä–º–∞–ª–∏, –±–∏–Ω–æ—Ä–º–∞–ª–∏ –∫–∞–∂–¥–æ–≥–æ —Å–µ–≥–º–µ–Ω—Ç–∞.
        var normalPoint = new THREE.Vector3(0,0,0);
        normalPoint.x = (cos * normal.x + sin * binormal.x);
        normalPoint.y = (cos * normal.y + sin * binormal.y);
        normalPoint.z = (cos * normal.z + sin * binormal.z);

        // –£–º–Ω–æ–∂–∞–µ–º –ø–æ–ª—É—á–µ–Ω–Ω—ã–π –≤–µ–∫—Ç–æ—Ä –Ω–∞ —Ä–∞–¥–∏—É—Å, —á—Ç–æ–±—ã —É –Ω–∞—Å –Ω–µ –±—ã–ª–∞ —Ç—Ä—É–±–∞ —Å –µ–¥–∏–Ω–∏—á–Ω—ã–º —Ä–∞–¥–∏—É—Å–æ–º
        normalPoint.multiplyScalar(radius);

        // –î–æ–±–∞–≤–ª—è–µ–º –∑–Ω–∞—á–µ–Ω–∏–µ –Ω–æ—Ä–º–∞–ª–∏ –∫ —Ü–µ–Ω—Ç—Ä—É –∫—Ä—É–≥–∞
        position.add(normalPoint);

        // –ò –¥–æ–±–∞–≤–ª—è–µ–º –≤–µ–∫—Ç–æ—Ä –≤ –Ω–∞—à—É –≥–µ–æ–º–µ—Ç—Ä–∏—é.
        geometry.vertices.push(position);
    }
}
```
–§—É—É—Ö, —ç—Ç–æ —Å–∞–º—ã–π —Å–ª–æ–∂–Ω—ã–π —É—á–∞—Å—Ç–æ–∫ –Ω–∞—à–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π –Ω–µ —Ç–∞–∫ –ø—Ä–æ—Å—Ç –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è. –ú–Ω–µ –¥–∞–∂–µ –ø—Ä–∏—à–ª–æ—Å—å –ª–∞–∑–∏—Ç—å –≤ –∏—Å—Ö–æ–¥–Ω–∏–∫–∏ Three.js, —á—Ç–æ–±—ã —É–±–µ–¥–∏—Ç—å—Å—è –≤ —Ç–æ–º, —á—Ç–æ —è –Ω–µ –Ω–∞–∫–æ—Å—è—á–∏–ª.  
  
–í—ã –º–æ–∂–µ—Ç–µ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç, –ø–æ—Å–º–æ—Ç—Ä–µ–≤ –¥–µ–º–æ –Ω–∏–∂–µ, –∏ —É–≤–∏–¥–µ—Ç—å –∫–∞–∫ —á–∞—Å—Ç–∏—Ü—ã –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –æ–¥–Ω–∞ –∑–∞ –¥—Ä—É–≥–æ–π.  
<span class="small">(–ù–∞–∂–º–∏—Ç–µ Ruturn, –µ—Å–ª–∏ –≤—ã –ø–æ—Ç–µ—Ä—è–ª–∏ —Ç—É–Ω–Ω–µ–ª—å)</span>

<p data-height="420" data-theme-id="dark" data-slug-hash="Npmqyo" data-default-tab="result" data-user="Mamboleoo" data-embed-version="2" data-pen-title="Calculate the positions of the particles" class="codepen">See the Pen <a href="https://codepen.io/Mamboleoo/pen/Npmqyo/">Calculate the positions of the particles</a> by Louis Hoebregts (<a href="https://codepen.io/Mamboleoo">@Mamboleoo</a>) on <a href="https://codepen.io">CodePen</a>.</p>
<script async src="https://production-assets.codepen.io/assets/embed/ei.js"></script>

## –°–æ–∑–¥–∞–Ω–∏–µ —Ç—Ä—É–±—ã
–°–µ–π—á–∞—Å —É –Ω–∞—Å –µ—Å—Ç—å –æ–±—ä–µ–∫—Ç Geometry —Å –≤–µ—Ä—à–∏–Ω–∞–º–∏. –í Three.js –º—ã  –º–æ–∂–µ–º —Å–æ–∑–¥–∞—Ç—å –ø—Ä–µ–∫—Ä–∞—Å–Ω–æ–µ –¥–µ–º–æ –∏–∑ —á–∞—Å—Ç–∏—Ü, –∏—Å–ø–æ–ª—å–∑—É—è `Points` –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä. –≠—Ç–æ –ø–æ–∑–≤–æ–ª–∏—Ç –≤–∞–º —Ä–µ–Ω–¥–µ—Ä–∏—Ç—å –ø—Ä–æ—Å—Ç—ã–µ —Ç–æ—á–∫–∏ —Å –ø—Ä–µ–∫—Ä–∞—Å–Ω–æ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é. –í—ã –º–æ–∂–µ—Ç–µ –≤–∏–¥–æ–∏–∑–º–µ–Ω–∏—Ç—å —ç—Ç–∏ —Ç–æ—á–∫–∏, –Ω–∞–ø—Ä–∏–º–µ—Ä –ø–æ–º–µ–Ω—è–≤ —Ü–≤–µ—Ç –∏–ª–∏ –≤—ã–±—Ä–∞–≤ —Ç–µ–∫—Å—Ç—É—Ä—É –¥–ª—è –Ω–∏—Ö.  
–¢–æ—á–Ω–æ —Ç–∞–∫ –∂–µ, –∫–∞–∫ –∫–æ–≥–¥–∞-—Ç–æ –º—ã —Å–æ–∑–¥–∞–≤–∞–ª–∏ `Mesh`, –Ω–∞–º –æ–ø—è—Ç—å –ø–æ–Ω–∞–¥–æ–±—è—Ç—Å—è –¥–≤–µ –≤–µ—â–∏ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –æ–±—ä–µ–∫—Ç–∞ `Points`. –ù–∞–º –Ω—É–∂–µ–Ω –º–∞—Ç–µ—Ä–∏–∞–ª –∏ –≥–µ–æ–º–µ—Ç—Ä–∏—è. –° –ø—Ä–æ—à–ª–æ–≥–æ —à–∞–≥–∞ —É –Ω–∞—Å –µ—Å—Ç—å –≥–µ–æ–º–µ—Ç—Ä–∏—è, –æ—Å—Ç–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –º–∞—Ç–µ—Ä–∏–∞–ª.

```js
var material = new THREE.PointsMaterial({
    size: 1, // –†–∞–∑–º–µ—Ä –∫–∞–∂–¥–æ–π —Ç–æ—á–∫–∏
    sizeAttenuation: true, 
    // –ï—Å–ª–∏ –º—ã —Ö–æ—Ç–∏–º, —á—Ç–æ–±—ã —Ç–æ—á–∫–∞ –∏–∑–º–µ–Ω—è–ª–∞ —Å–≤–æ–∏ –≤ —Ä–∞–∑–º–µ—Ä—ã –≤
    // –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è –¥–æ –∫–∞–º–µ—Ä—ã
    color: 0xff0000 // –¶–≤–µ—Ç —Ç–æ—á–∫–∏
});
```
–ù–∞–∫–æ–Ω–µ—Ü, –º—ã —Å–æ–∑–¥–∞–µ–º –Ω–∞—à –æ–±—ä–µ–∫—Ç Points –∏ –¥–æ–±–∞–≤–ª—è–µ–º –µ–≥–æ –Ω–∞ —Å—Ü–µ–Ω—É —Ç–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º:
```js
var tube = new THREE.Points(geometry, material);
scene.add(tube);
```

<p data-height="440" data-theme-id="dark" data-slug-hash="aWzGrJ" data-default-tab="result" data-user="Mamboleoo" data-embed-version="2" data-pen-title="Create the tube" class="codepen">See the Pen <a href="https://codepen.io/Mamboleoo/pen/aWzGrJ/">Create the tube</a> by Louis Hoebregts (<a href="https://codepen.io/Mamboleoo">@Mamboleoo</a>) on <a href="https://codepen.io">CodePen</a>.</p>
<script async src="https://production-assets.codepen.io/assets/embed/ei.js"></script>

## –ó–∞—Å—Ç–∞–≤–ª—è–µ–º –≤—Å–µ –¥–≤–∏–≥–∞—Ç—å—Å—è
–ß—Ç–æ–±—ã –≤—Å–µ –ø—Ä–∏—à–ª–æ –≤ –¥–≤–∏–∂–µ–Ω–∏–µ, –º—ã –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º –Ω–µ–∫–æ—Ç–æ—Ä—ã–π –∫–æ–¥ –∏–∑ –ø—Ä–æ—à–ª–æ–π —á–∞—Å—Ç–∏.
```js
var percentage = 0;
function render() {

  // –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º –ø—Ä–æ—Ü–µ–Ω—Ç
  percentage += 0.0005;
  // –ü–æ–ª—É—á–∞–µ–º —Ç–æ—á–∫—É, –≥–¥–µ –∫–∞–º–µ—Ä–∞ –¥–æ–ª–∂–Ω–∞ –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è
  var p1 = path.getPointAt(percentage % 1);
  // –ü–æ–ª—É—á–∞–µ–º —Ç–æ—á–∫—É, –∫—É–¥–∞ –¥–æ–ª–∂–Ω–∞ —Å–º–æ—Ç—Ä–µ—Ç—å –∫–∞–º–µ—Ä–∞
  var p2 = path.getPointAt((percentage + 0.01) % 1);
  camera.position.set(p1.x, p1.y, p1.z);
  camera.lookAt(p2);

  // –†–µ–Ω–¥–µ—Ä–∏–º —Ü–µ–Ω—É
  renderer.render(scene, camera);

  // –í—ã–∑—ã–≤–∞–µ–º —Å–ª–µ–¥—É—é—â–∏–π –∫–∞–¥—Ä
  requestAnimationFrame(render);
}
```

üéâ –£—Ä–∞–∞, —É –Ω–∞—Å –Ω–∞–∫–æ–Ω–µ—Ü-—Ç–æ –ø–æ—è–≤–∏–ª—Å—è —É—Ä–æ–≤–µ–Ω—å, —Å–¥–µ–ª–∞–Ω–Ω—ã–π –∏–∑ —á–∞—Å—Ç–∏—Ü üéâ
<p data-height="440" data-theme-id="dark" data-slug-hash="evxYob" data-default-tab="result" data-user="Mamboleoo" data-embed-version="2" data-pen-title="Moving particle tunnel" class="codepen">See the Pen <a href="https://codepen.io/Mamboleoo/pen/evxYob/">Moving particle tunnel</a> by Louis Hoebregts (<a href="https://codepen.io/Mamboleoo">@Mamboleoo</a>) on <a href="https://codepen.io">CodePen</a>.</p>
<script async src="https://production-assets.codepen.io/assets/embed/ei.js"></script>

## –ù–µ–º–Ω–æ–≥–æ –±–µ–∑—É–º—Å—Ç–≤–∞
–ß—Ç–æ –º—ã —É–∑–Ω–∞–ª–∏ –≤–æ –≤—Ç–æ—Ä–æ–π —á–∞—Å—Ç–∏ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –Ω–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–≥–æ –∫–æ–ª-–≤–∞ —Ç—É–Ω–Ω–µ–ª–µ–π! –ù–∏–∂–µ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –ø—Ä–∏–º–µ—Ä—ã —Ç—É–Ω–Ω–µ–ª–µ–π, –∫–æ—Ç–æ—Ä—ã–µ –±—ã–ª–∏ –æ—Å–Ω–æ–≤–∞–Ω—ã –Ω–∞ —Ç–æ–º, —á—Ç–æ –º—ã —É–∑–Ω–∞–ª–∏ –≤ —ç—Ç–æ–π —á–∞—Å—Ç–∏.

### –Ø—Ä–∫–∏–µ —Ç—É–Ω–Ω–µ–ª–∏
–î–ª—è —ç—Ç–æ–≥–æ –ø—Ä–∏–º–µ—Ä–∞ —è –∑–∞–¥–∞—é –¥–ª—è –∫–∞–∂–¥–æ–π —Ç–æ—á–∫–∏ —Å–ª—É—á–∞–π–Ω—ã–π —Ü–≤–µ—Ç. –ï—â—ë —è –¥–æ–±–∞–≤–∏–ª —Ç—É–º–∞–Ω –Ω–∞ —Å—Ü–µ–Ω—É, –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —ç—Ñ—Ñ–µ–∫—Ç–∞ –∑–∞—Ç—É—Ö–∞–Ω–∏—è –≤ —Ç—É–Ω–Ω–µ–ª–µ.

<p data-height="380" data-theme-id="dark" data-slug-hash="BWMyZr" data-default-tab="result" data-user="Mamboleoo" data-embed-version="2" data-pen-title="Crazy 4" class="codepen">See the Pen <a href="https://codepen.io/Mamboleoo/pen/BWMyZr/">Crazy 4</a> by Louis Hoebregts (<a href="https://codepen.io/Mamboleoo">@Mamboleoo</a>) on <a href="https://codepen.io">CodePen</a>.</p>
<script async src="https://production-assets.codepen.io/assets/embed/ei.js"></script>

```js
// –í –Ω–∞—á–∞–ª–µ —Å–æ–∑–¥–∞–¥–∏–º –Ω–æ–≤—ã–π —Ü–≤–µ—Ç, –æ—Å–Ω–æ–≤—ã–≤–∞—è—Å—å –Ω–∞ –∏–Ω–¥–µ–∫—Å–µ
var color = new THREE.Color("hsl(" + (index * 360 * 4) + ", 100%, 50%)");
// –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π —Ü–≤–µ—Ç –≤ –º–∞—Å—Å–∏–≤ –≤—Å–µ—Ö —Ü–≤–µ—Ç–æ–≤, —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–Ω—ã—Ö –≤ Geometry
geometry.colors.push(color);

var material = new THREE.PointsMaterial({
  size: 0.2,
  vertexColors: THREE.VertexColors // –ú—ã —É–∫–∞–∑—ã–≤–∞–µ–º, —á—Ç–æ —Ü–≤–µ –Ω–∞–¥–æ –±—Ä–∞—Ç—å –∏–∑ Geometry
});

// –î–æ–±–∞–≤–∏—Ç—å –Ω–µ–º–Ω–æ–∂–∫–æ —Ç—É–º–∞–Ω–∞ –Ω–∞ —Å—Ü–µ–Ω—É
scene.fog = new THREE.Fog(0x000000, 30, 150);
```

### –ö–≤–∞–¥—Ä–∞—Ç–Ω–∞—è –ø–µ—â–µ—Ä–∞
–í —ç—Ç–æ–º –ø—Ä–∏–º–µ—Ä–µ —è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª —Ç–æ–ª—å–∫–æ –ö—É–±—ã. –î–ª—è –∏—Ö —Ä–∞—Å—Å—Ç–∞–Ω–æ–≤–∫–∏ —è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª –æ–±—ä–µ–∫—Ç `Points`, —è —Å–æ–∑–¥–∞—é –Ω–æ–≤—ã–π Mesh –¥–ª—è –∫–∞–∂–¥–æ–π –ø–æ–∑–∏—Ü–∏–∏ —Ç–æ—á–∫–∏. –ï—â—ë —è —Ä–∞—Å–∫–∞—à–∏–≤–∞—é –µ–≥–æ, –æ—Å–Ω–æ–≤—ã–≤–∞—è—Å—å –Ω–∞ —à—É–º–µ –ü–µ—Ä–ª–∏–Ω–∞.

<p data-height="380" data-theme-id="dark" data-slug-hash="OpdPvZ" data-default-tab="result" data-user="Mamboleoo" data-embed-version="2" data-pen-title="Crazy 5" class="codepen">See the Pen <a href="https://codepen.io/Mamboleoo/pen/OpdPvZ/">Crazy 5</a> by Louis Hoebregts (<a href="https://codepen.io/Mamboleoo">@Mamboleoo</a>) on <a href="https://codepen.io">CodePen</a>.</p>
<script async src="https://production-assets.codepen.io/assets/embed/ei.js"></script>

### –í–æ—Å—å–º–∏–≥—Ä–∞–Ω–Ω—ã–µ —Ç—É–Ω–Ω–µ–ª–∏
<p data-height="380" data-theme-id="dark" data-slug-hash="EmaReQ" data-default-tab="result" data-user="Mamboleoo" data-embed-version="2" data-pen-title="Crazy 6" class="codepen">See the Pen <a href="https://codepen.io/Mamboleoo/pen/EmaReQ/">Crazy 6</a> by Louis Hoebregts (<a href="https://codepen.io/Mamboleoo">@Mamboleoo</a>) on <a href="https://codepen.io">CodePen</a>.</p>
<script async src="https://production-assets.codepen.io/assets/embed/ei.js"></script>
–¢—É—Ç —è —Å–æ–µ–¥–∏–Ω–∏–ª —Ç–æ—á–∫–∏ –≤ –∫–∞–∂–¥–æ–º —Å–µ–≥–º–µ–Ω—Ç–µ, –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ª–∏–Ω–∏–∏. –Ø –ø–æ–∏–≥—Ä–∞–ª—Å—è —Å —É–≥–ª–æ–º –∏ —Ü–≤–µ—Ç–æ–º –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∏–ª–ª—é–∑–∏–∏ –ø–æ–≤–æ—Ä–æ—Ç–∞.
```js
for (var i = 0; i < tubeDetail; i++) {
    // –°–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–π –≥–µ–æ–º–µ—Ç—Ä–∏–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–µ–≥–º–µ–Ω—Ç–∞
    var circle = new THREE.Geometry();
    for (var j = 0; j < circlesDetail; j++) {
        // –î–æ–±–∞–≤–∏—Ç—å –ø–æ–∑–∏—Ü–∏—é –∫–∞–∂–¥–æ–π –≤–µ—Ä—à–∏–Ω—ã
        circle.vertices.push(position);
    }
    // –°–æ–∑–¥–∞–µ–º –¥—É–±–ª–∏–∫–∞—Ç –ø–µ—Ä–≤–æ–π –≤–µ—Ä—à–∏–Ω—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–º–∫–Ω—É—Ç–æ–π –ª–∏–Ω–∏–∏
    circle.vertices.push(circle.vertices[0]);
    // –°–æ–∑–¥–∞–µ–º –º–∞—Ç–µ—Ä–∏–∞–ª —Å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º —Ü–≤–µ—Ç–æ–º
    var material = new THREE.LineBasicMaterial({
        color: new THREE.Color("hsl("+(noise.simplex2(index*10,0)*60 + 300)+",50%,50%)")
    });
    // –°–æ–∑–¥–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞ –ª–∏–Ω–∏–∏
    var line = new THREE.Line(circle, material);
    // –î–æ–±–∞–≤–ª—è–µ–º –µ–≥–æ –Ω–∞ —Å—Ü–µ–Ω—É
    scene.add(line);
}
```
 ---
–°–ø–∞—Å–∏–±–æ –∑–∞ –ø—Ä–æ—á—Ç–µ–Ω–∏–µ –º–æ–µ–≥–æ –ø–æ—Å—Ç–∞ –æ —Å–æ–∑–¥–∞–Ω–∏–∏ —ç—Ñ—Ñ–µ–∫—Ç–∞ –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏—è –≤ —Ç—É–Ω–Ω–µ–ª–µ!  
–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –Ω–µ —Å—Ç–µ—Å–Ω—è—ë—Ç–µ—Å—å –∑–∞–¥–∞–≤–∞—Ç—å –≤–æ–ø—Ä–æ—Å—ã –≤ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è—Ö, –µ—Å–ª–∏ –≤–∞–º —á—Ç–æ-—Ç–æ –Ω–µ –ø–æ–Ω—è—Ç–Ω–æ. üòâ


<style>
.examples {
    list-style-type: none;
    margin-left: 0 !important;
}

.examples .legend {
    display: block;
    width: 100%;
    text-align: center;
    font-size: 0.8em;
    padding: 5px 0;
    font-style: italic;
}
.examples a {
    text-decoration: none;
    border: none;
    display: block;
    transition: 0.2s ease-out;
    font-size: 0;
}
.examples a:hover {
    opacity: 0.8;
}

.alert {
    text-align: center;
    font-size: 1em;
    margin-bottom: 2em;
}

.alert:before {
    font-size: 1.3em;
    content: "‚ö†Ô∏è";
    display: block;
    font-style: initial;
}


.small {
    font-size: 0.8em;
    font-style: italic;
}
</style>
